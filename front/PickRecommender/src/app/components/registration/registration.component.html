<div *ngIf="errorMessage !== null" class="errorContainer">
  <div class="alert alert-danger alert-dismissible" role="alert">
    <button type="button" class="close" data-dismiss="alert" aria-label="Close" (click)='hideError()'>
      <span aria-hidden="true">&times;</span></button>
      {{errorMessage}}
  </div>
</div>

<div align="center" *ngIf="registered === false">
    <form class="registerForm form-horizontal" #regForm="ngForm">

      <div class="form-group row">
        <label for="username" class="col-sm-4 control-label" minlength="4"> Username: </label>
        <div class="col-sm-8">
          <input type="text" class="form-control" id="username" placeholder="Your League User Name" minlength="2"
                 name="username" [(ngModel)]="regInfo.userName" required #username="ngModel">
        </div>

        <div [hidden]="(username.untouched && username.pristine) || (username.valid && regInfo.userName.length > 0)"
             class="alert alert-danger">Username required</div>
      </div>

      <div class="form-group row">
        <label for="password1" class="col-sm-4 control-label"> Password: </label>
        <div class="col-sm-8">
          <input type="password" class="form-control" id="password1" placeholder="A creative password :)"
                  name="password" [(ngModel)]="regInfo.password" minlength="6" required #password1="ngModel">
        </div>
        <div [hidden]="password1.touched">Should contain at least 6 characters</div>
        <div [hidden]="(password1.untouched && password1.pristine) || (password1.valid && regInfo.password.length > 0)"
              class="alert alert-danger">Password required</div>
      </div>

      <div class="form-group row">
        <label for="password2" class="col-sm-4 control-label"> Re-enter password: </label>
        <div class="col-sm-8">
          <input type="password" class="form-control" id="password2" placeholder="Password again :D"
                  name="repeatPW" [(ngModel)]="repeatPW" #password2="ngModel" required>
        </div>
        <div [hidden]="repeatPW == regInfo.password || password2.pristine" class="alert alert-danger">
          Passwords don't match.
        </div>
      </div>

      <div class="form-group row">
        <div align="center">
          <button type="button" class="btn btn-success" (click)="tryRegister()"
                  [disabled]="!regForm.valid">Register</button>
        </div>
      </div>
  </form>
</div>

<div align="center" *ngIf="registered">
  <div align="center" class="alert alert-success">
    <strong>Registered successfully!</strong> Check your email for activation link.
    <br/>
    You will be able to log in when you click the activation link.
  </div>
  <div align="center" class="alert-info">
    <strong><a routerLink="/login" class="mouse">Click here to log in</a></strong>
  </div>
</div>
